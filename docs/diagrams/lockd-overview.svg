<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1539px" preserveAspectRatio="none" style="width:778px;height:1539px;background:#FFFFFF;" version="1.1" viewBox="0 0 778 1539" width="778px" zoomAndPan="magnify">
  <rect width="100%" height="100%" fill="#ffffff"/><defs><filter height="300%" id="ff2dkclz5ahoz" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4" dy="4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="1361.7707" width="8" x="22.8369" y="91.0679"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5,5;" x1="26" x2="26" y1="91.0679" y2="1452.8387"/></g><g><title>lockd HTTP Handler</title><rect fill="#000000" fill-opacity="0.00000" height="1361.7707" width="8" x="331.8623" y="91.0679"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5,5;" x1="335.1825" x2="335.1825" y1="91.0679" y2="1452.8387"/></g><g><title>JSON Compactor</title><rect fill="#000000" fill-opacity="0.00000" height="1361.7707" width="8" x="557.8274" y="91.0679"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5,5;" x1="561.0176" x2="561.0176" y1="91.0679" y2="1452.8387"/></g><g><title>Storage Backend</title><rect fill="#000000" fill-opacity="0.00000" height="1361.7707" width="8" x="696.287" y="91.0679"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:5,5;" x1="699.6372" x2="699.6372" y1="91.0679" y2="1452.8387"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.6738" x="5" y="86.9659">Client</text><ellipse cx="26.8369" cy="15" fill="#FEFECE" filter="url(#ff2dkclz5ahoz)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2;"/><path d="M26.8369,23 L26.8369,50 M13.8369,31 L39.8369,31 M26.8369,50 L13.8369,65 M26.8369,50 L39.8369,65" fill="none" filter="url(#ff2dkclz5ahoz)" style="stroke:#A80036;stroke-width:2;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="37.6738" x="5" y="1466.8046">Client</text><ellipse cx="26.8369" cy="1480.9066" fill="#FEFECE" filter="url(#ff2dkclz5ahoz)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2;"/><path d="M26.8369,1488.9066 L26.8369,1515.9066 M13.8369,1496.9066 L39.8369,1496.9066 M26.8369,1515.9066 L13.8369,1530.9066 M26.8369,1515.9066 L39.8369,1530.9066" fill="none" filter="url(#ff2dkclz5ahoz)" style="stroke:#A80036;stroke-width:2;"/></g><g class="participant participant-head" data-participant="Handler"><rect fill="#FEFECE" filter="url(#ff2dkclz5ahoz)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="143.3595" x="262.1825" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.3595" x="269.1825" y="74.9659">lockd HTTP Handler</text></g><g class="participant participant-tail" data-participant="Handler"><rect fill="#FEFECE" filter="url(#ff2dkclz5ahoz)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="143.3595" x="262.1825" y="1451.8387"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="129.3595" x="269.1825" y="1473.8046">lockd HTTP Handler</text></g><g class="participant participant-head" data-participant="Compactor"><rect fill="#FEFECE" filter="url(#ff2dkclz5ahoz)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="123.6196" x="498.0176" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.6196" x="505.0176" y="74.9659">JSON Compactor</text></g><g class="participant participant-tail" data-participant="Compactor"><rect fill="#FEFECE" filter="url(#ff2dkclz5ahoz)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="123.6196" x="498.0176" y="1451.8387"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.6196" x="505.0176" y="1473.8046">JSON Compactor</text></g><g class="participant participant-head" data-participant="Storage"><rect fill="#FEFECE" filter="url(#ff2dkclz5ahoz)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="125.2996" x="635.6372" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2996" x="642.6372" y="74.9659">Storage Backend</text></g><g class="participant participant-tail" data-participant="Storage"><rect fill="#FEFECE" filter="url(#ff2dkclz5ahoz)" height="33.0679" style="stroke:#A80036;stroke-width:1.5;" width="125.2996" x="635.6372" y="1451.8387"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.2996" x="642.6372" y="1473.8046">Storage Backend</text></g><rect fill="#EEEEEE" filter="url(#ff2dkclz5ahoz)" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="769.9368" x="0" y="122.9209"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="769.9368" y1="122.9209" y2="122.9209"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="769.9368" y1="125.9209" y2="125.9209"/><rect fill="#EEEEEE" filter="url(#ff2dkclz5ahoz)" height="25.706" style="stroke:#000000;stroke-width:2;" width="67.352" x="351.2924" y="111.0679"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="49.972" x="357.2924" y="128.9649">Acquire</text><g class="message" data-participant-1="Client" data-participant-2="Handler"><polygon fill="#A80036" points="323.8623,184.186,333.8623,188.186,323.8623,192.186,327.8623,188.186" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="26.8369" x2="329.8623" y1="188.186" y2="188.186"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.0921" x="33.8369" y="164.6709">POST /v1/acquire</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.7621" x="33.8369" y="182.377">{key, owner, ttl_seconds}</text></g><g class="message" data-participant-1="Handler" data-participant-2="Storage"><polygon fill="#A80036" points="688.287,215.892,698.287,219.892,688.287,223.892,692.287,219.892" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="335.8623" x2="694.287" y1="219.892" y2="219.892"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.7781" x="342.8623" y="214.083">LoadMeta(key)</text></g><g class="message" data-participant-1="Storage" data-participant-2="Handler"><polygon fill="#A80036" points="346.8623,247.598,336.8623,251.598,346.8623,255.598,342.8623,251.598" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="340.8623" x2="699.287" y1="251.598" y2="251.598"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.8262" x="352.8623" y="245.789">meta + meta_etag (or empty)</text></g><g class="message" data-participant-1="Handler" data-participant-2="Handler"><line style="stroke:#A80036;stroke-width:1;" x1="335.8623" x2="377.8623" y1="301.01" y2="301.01"/><line style="stroke:#A80036;stroke-width:1;" x1="377.8623" x2="377.8623" y1="301.01" y2="314.01"/><line style="stroke:#A80036;stroke-width:1;" x1="336.8623" x2="377.8623" y1="314.01" y2="314.01"/><polygon fill="#A80036" points="346.8623,310.01,336.8623,314.01,346.8623,318.01,342.8623,314.01" style="stroke:#A80036;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.298" x="342.8623" y="277.495">create lease_id</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.9652" x="342.8623" y="295.201">&amp; fencing_token := meta.fencing+1</text></g><g class="message" data-participant-1="Handler" data-participant-2="Storage"><polygon fill="#A80036" points="688.287,359.4221,698.287,363.4221,688.287,367.4221,692.287,363.4221" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="335.8623" x2="694.287" y1="363.4221" y2="363.4221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.5601" x="342.8623" y="339.907">StoreMeta(updated lease)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.6811" x="342.8623" y="357.6131">(expected_etag)</text></g><g class="message" data-participant-1="Storage" data-participant-2="Handler"><polygon fill="#A80036" points="346.8623,391.1281,336.8623,395.1281,346.8623,399.1281,342.8623,395.1281" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="340.8623" x2="699.287" y1="395.1281" y2="395.1281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.9141" x="352.8623" y="389.3191">new_meta_etag</text></g><g class="message" data-participant-1="Handler" data-participant-2="Client"><polygon fill="#A80036" points="37.8369,440.5401,27.8369,444.5401,37.8369,448.5401,33.8369,444.5401" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="31.8369" x2="334.8623" y1="444.5401" y2="444.5401"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.4171" x="43.8369" y="421.0251">200 AcquireResponse</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="248.4172" x="43.8369" y="438.7311">headers: X-Fencing-Token, X-Key-Version</text></g><rect fill="#EEEEEE" filter="url(#ff2dkclz5ahoz)" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="769.9368" x="0" y="474.3931"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="769.9368" y1="474.3931" y2="474.3931"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="769.9368" y1="477.3931" y2="477.3931"/><rect fill="#EEEEEE" filter="url(#ff2dkclz5ahoz)" height="25.706" style="stroke:#000000;stroke-width:2;" width="81.5871" x="344.1749" y="462.5401"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="64.207" x="350.1749" y="480.4371">KeepAlive</text><g class="message" data-participant-1="Client" data-participant-2="Handler"><polygon fill="#A80036" points="323.8623,535.6582,333.8623,539.6582,323.8623,543.6582,327.8623,539.6582" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="26.8369" x2="329.8623" y1="539.6582" y2="539.6582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.0131" x="33.8369" y="516.1431">POST /v1/keepalive</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.2542" x="33.8369" y="533.8492">lease_id, ttl, X-Fencing-Token</text></g><g class="message" data-participant-1="Handler" data-participant-2="Storage"><polygon fill="#A80036" points="688.287,567.3642,698.287,571.3642,688.287,575.3642,692.287,571.3642" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="335.8623" x2="694.287" y1="571.3642" y2="571.3642"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.9421" x="342.8623" y="565.5552">LoadMeta/Validate lease</text></g><g class="message" data-participant-1="Handler" data-participant-2="Storage"><polygon fill="#A80036" points="688.287,599.0702,698.287,603.0702,688.287,607.0702,692.287,603.0702" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="335.8623" x2="694.287" y1="603.0702" y2="603.0702"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.2662" x="342.8623" y="597.2612">StoreMeta(updated expires_at)</text></g><g class="message" data-participant-1="Storage" data-participant-2="Handler"><polygon fill="#A80036" points="346.8623,630.7762,336.8623,634.7762,346.8623,638.7762,342.8623,634.7762" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="340.8623" x2="699.287" y1="634.7762" y2="634.7762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.9141" x="352.8623" y="628.9672">new_meta_etag</text></g><g class="message" data-participant-1="Handler" data-participant-2="Client"><polygon fill="#A80036" points="37.8369,680.1882,27.8369,684.1882,37.8369,688.1882,33.8369,684.1882" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="31.8369" x2="334.8623" y1="684.1882" y2="684.1882"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.3451" x="43.8369" y="660.6732">200 KeepAlive</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.3461" x="43.8369" y="678.3792">header: X-Fencing-Token</text></g><rect fill="#EEEEEE" filter="url(#ff2dkclz5ahoz)" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="769.9368" x="0" y="714.0413"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="769.9368" y1="714.0413" y2="714.0413"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="769.9368" y1="717.0413" y2="717.0413"/><rect fill="#EEEEEE" filter="url(#ff2dkclz5ahoz)" height="25.706" style="stroke:#000000;stroke-width:2;" width="74.099" x="347.9189" y="702.1882"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="56.719" x="353.9189" y="720.0853">GetState</text><g class="message" data-participant-1="Client" data-participant-2="Handler"><polygon fill="#A80036" points="323.8623,775.3063,333.8623,779.3063,323.8623,783.3063,327.8623,779.3063" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="26.8369" x2="329.8623" y1="779.3063" y2="779.3063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113.9191" x="33.8369" y="755.7913">POST /v1/get-state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.8742" x="33.8369" y="773.4973">X-Lease-ID, X-Fencing-Token</text></g><g class="message" data-participant-1="Handler" data-participant-2="Storage"><polygon fill="#A80036" points="688.287,807.0123,698.287,811.0123,688.287,815.0123,692.287,811.0123" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="335.8623" x2="694.287" y1="811.0123" y2="811.0123"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.5581" x="342.8623" y="805.2033">ReadState(key)</text></g><g class="message" data-participant-1="Storage" data-participant-2="Handler"><polygon fill="#A80036" points="346.8623,838.7183,336.8623,842.7183,346.8623,846.7183,342.8623,842.7183" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="340.8623" x2="699.287" y1="842.7183" y2="842.7183"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.1081" x="352.8623" y="836.9093">JSON stream + ETag</text></g><g class="message" data-participant-1="Handler" data-participant-2="Client"><polygon fill="#A80036" points="37.8369,888.1304,27.8369,892.1304,37.8369,896.1304,33.8369,892.1304" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="31.8369" x2="334.8623" y1="892.1304" y2="892.1304"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102.8561" x="43.8369" y="868.6153">200 stream JSON</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285.0253" x="43.8369" y="886.3214">headers: ETag, X-Key-Version, X-Fencing-Token</text></g><rect fill="#EEEEEE" filter="url(#ff2dkclz5ahoz)" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="769.9368" x="0" y="921.9834"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="769.9368" y1="921.9834" y2="921.9834"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="769.9368" y1="924.9834" y2="924.9834"/><rect fill="#EEEEEE" filter="url(#ff2dkclz5ahoz)" height="25.706" style="stroke:#000000;stroke-width:2;" width="98.8251" x="335.5559" y="910.1304"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="81.4451" x="341.5559" y="928.0274">UpdateState</text><g class="message" data-participant-1="Client" data-participant-2="Handler"><polygon fill="#A80036" points="323.8623,983.2484,333.8623,987.2484,323.8623,991.2484,327.8623,987.2484" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="26.8369" x2="329.8623" y1="987.2484" y2="987.2484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.2411" x="33.8369" y="963.7334">POST /v1/update-state</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.9622" x="33.8369" y="981.4394">body, CAS headers, X-Fencing-Token</text></g><g class="message" data-participant-1="Handler" data-participant-2="Compactor"><polygon fill="#A80036" points="549.8274,1014.9544,559.8274,1018.9544,549.8274,1022.9544,553.8274,1018.9544" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="335.8623" x2="555.8274" y1="1018.9544" y2="1018.9544"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86.5801" x="342.8623" y="1013.1454">compact JSON</text></g><g class="message" data-participant-1="Compactor" data-participant-2="Handler"><polygon fill="#A80036" points="346.8623,1046.6604,336.8623,1050.6604,346.8623,1054.6604,342.8623,1050.6604" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="340.8623" x2="560.8274" y1="1050.6604" y2="1050.6604"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.1561" x="352.8623" y="1044.8514">canonical stream</text></g><g class="message" data-participant-1="Handler" data-participant-2="Storage"><polygon fill="#A80036" points="688.287,1078.3665,698.287,1082.3665,688.287,1086.3665,692.287,1082.3665" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="335.8623" x2="694.287" y1="1082.3665" y2="1082.3665"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.6901" x="342.8623" y="1076.5575">WriteState(key)</text></g><g class="message" data-participant-1="Storage" data-participant-2="Handler"><polygon fill="#A80036" points="346.8623,1127.7785,336.8623,1131.7785,346.8623,1135.7785,342.8623,1131.7785" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="340.8623" x2="699.287" y1="1131.7785" y2="1131.7785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.6791" x="352.8623" y="1108.2635">new_state_etag</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.1581" x="352.8623" y="1125.9695">+ bytes_written</text></g><g class="message" data-participant-1="Handler" data-participant-2="Storage"><polygon fill="#A80036" points="688.287,1159.4845,698.287,1163.4845,688.287,1167.4845,692.287,1163.4845" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="335.8623" x2="694.287" y1="1163.4845" y2="1163.4845"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.1391" x="342.8623" y="1157.6755">StoreMeta(version+1, etag)</text></g><g class="message" data-participant-1="Storage" data-participant-2="Handler"><polygon fill="#A80036" points="346.8623,1191.1905,336.8623,1195.1905,346.8623,1199.1905,342.8623,1195.1905" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="340.8623" x2="699.287" y1="1195.1905" y2="1195.1905"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.9141" x="352.8623" y="1189.3815">new_meta_etag</text></g><g class="message" data-participant-1="Handler" data-participant-2="Client"><polygon fill="#A80036" points="37.8369,1240.6026,27.8369,1244.6026,37.8369,1248.6026,33.8369,1244.6026" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="31.8369" x2="334.8623" y1="1244.6026" y2="1244.6026"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252.9932" x="43.8369" y="1221.0875">200 {new_version, new_state_etag, bytes}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="285.0253" x="43.8369" y="1238.7936">headers: ETag, X-Key-Version, X-Fencing-Token</text></g><rect fill="#EEEEEE" filter="url(#ff2dkclz5ahoz)" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="769.9368" x="0" y="1274.4556"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="769.9368" y1="1274.4556" y2="1274.4556"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="769.9368" y1="1277.4556" y2="1277.4556"/><rect fill="#EEEEEE" filter="url(#ff2dkclz5ahoz)" height="25.706" style="stroke:#000000;stroke-width:2;" width="67.287" x="351.3249" y="1262.6026"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="49.907" x="357.3249" y="1280.4996">Release</text><g class="message" data-participant-1="Client" data-participant-2="Handler"><polygon fill="#A80036" points="323.8623,1335.7206,333.8623,1339.7206,323.8623,1343.7206,327.8623,1339.7206" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="26.8369" x2="329.8623" y1="1339.7206" y2="1339.7206"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103.7141" x="33.8369" y="1316.2056">POST /v1/release</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.8742" x="33.8369" y="1333.9116">X-Lease-ID, X-Fencing-Token</text></g><g class="message" data-participant-1="Handler" data-participant-2="Storage"><polygon fill="#A80036" points="688.287,1367.4266,698.287,1371.4266,688.287,1375.4266,692.287,1371.4266" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;" x1="335.8623" x2="694.287" y1="1371.4266" y2="1371.4266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.1381" x="342.8623" y="1365.6176">StoreMeta(lease cleared)</text></g><g class="message" data-participant-1="Storage" data-participant-2="Handler"><polygon fill="#A80036" points="346.8623,1399.1326,336.8623,1403.1326,346.8623,1407.1326,342.8623,1403.1326" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="340.8623" x2="699.287" y1="1403.1326" y2="1403.1326"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.9141" x="352.8623" y="1397.3236">new_meta_etag</text></g><g class="message" data-participant-1="Handler" data-participant-2="Client"><polygon fill="#A80036" points="37.8369,1430.8387,27.8369,1434.8387,37.8369,1438.8387,33.8369,1434.8387" style="stroke:#A80036;stroke-width:1;"/><line style="stroke:#A80036;stroke-width:1;stroke-dasharray:2,2;" x1="31.8369" x2="334.8623" y1="1434.8387" y2="1434.8387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.7141" x="43.8369" y="1429.0297">200 {released:true}</text></g><!--SRC=[fLLDRzf04BtxLunoQ8cmI-ZH4fKe_KYRj8c0fZbOiZQx4xB2hDtTZIcA-EyThp-0b00j1ylBxfkPD-_DujTmcVAfW0IPGKZaFV85Jn3I77KkSGvpQH_0s5Ip2OAHiumm4eNdcQbKe5E3diSudSCWaQYibp5j9PSPKnPE4fVyV3o-XdEcH8Bw19YfrvlOhwEhxp18PvbBvt3DhqtagABpdl4fAk6WrPxdzNhGvxyUfKRezRoI50JlwfeXN5-Dnj39knrMmYBrDCM53-bSeVR1sYGso5CbpDAhWehuga18WZ7n3IrhKTIfLtC9ralCw1ZQxXNJCu4MwOEpp5B0Mie6ppKoYwK9iHIHUWNtgBXKazYcr2A4FPViJRNRxcvbLYpGKNlC12MiR3sDL0j_PyXfnz5vWRN2UTnGNXKWIAbY26_FpcfnXsYoL1bIxm6PG6r2k0q-bVI2SK7QfuqBN0GtT2XJvPovGCpwYSptUZCb82k0aQfLSTRupwlijAXpGpb48-s1ef5MrA29cJrAgARNMgA_57AIV4OxiWN5FOfCq0Qc04RgDhWisWc-V3XCZY6LTpLsZAoxVSRI8CveSZ-ETpHMeOg8DVUBa6UM-riR_k5aFgZdqf6wxRjKq3KTz4TG5TtPVVFVGTUhN3h6NhE_sJzdAbMIiwHgRwkGFxMicEzGifWEnzYDHwJQSBUmD4vp2hOlEBGQmhoKhjtruUYh-bJ0yjgBJLv-oMhvFmuEiVnSx75Fbx1_dzUL6cKT-Y0nZU8uBIes8hJw4PVU7m00]--></g></svg>